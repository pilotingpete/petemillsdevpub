{"componentChunkName":"component---src-templates-post-jsx","path":"/Beaglebone-getting-started-p1","result":{"data":{"markdownRemark":{"html":"<p>I've recently found myself in the position of needing to automate some hardware testing. The hardware is a buck converter that occasionally fails to start up - and it's part of a larger system. So, to test the buck converter I need a way of reproducing the failed startups. Since this occurs very infrequently, I need a device that can start and restart the buck converter many times over several days, check that it is operating, and if not then log the failure with a timestamp.</p>\n<p>The Beaglebone Black (BBB) collecting dust on my desk seems ideal for this task, but as I rarely use them, I found myself relearning a lot of what is required just to get up and running. And so to remember, I thought I would write a <em>getting started guide</em> to my future self.</p>\n<p>Today I will be working with</p>\n<ul>\n<li>Beaglebone Black Rev. C</li>\n<li>Macbook Pro w/ macOS Mojave</li>\n<li>microSD card for flashing the eMMC on the BBB</li>\n<li>USB microSD adapter</li>\n<li>miniUSB cable for BBB initial configuration</li>\n</ul>\n<h2>Flashing an OS to the BBB</h2>\n<p>First we will need to flash an OS to the eMMC on the BBB. You can optionally run directly from µSD card, but it is slower, and can't really think of why you would want to.</p>\n<p>Download the <a href=\"https://beagleboard.org/latest-images\">latest image</a> from the Beaglebone site. I have selected the \"IoT Flasher\" image which lacks a GUI and will flash from µSD to eMMC for us.</p>\n<p>On macOS you can use <a href=\"https://theunarchiver.com/\">The Unarchiver</a> to extract the image from the downloaded *.xz archive. Use 7-zip if you're on windows or <code class=\"language-text\">tar -xf archive.tar.xz</code> on linux.</p>\n<p>Plug the µSD card into the USB adapter and Macbook. Using <code class=\"language-text\">diskutil list</code> I can see that my µSD card is enumerated as <code class=\"language-text\">/dev/disk2</code>. In the syntax below I will refer to this as <code class=\"language-text\">/dev/disk(n)</code> to avoid copy-paste errors in the future as this disk may not always be enumerated as disk2.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 750px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/270b50b8e64471da8b15e90c9727edf6/69631/diskutil.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 76.09970674486803%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAACqUlEQVQ4y51SW0sbQRgNGGlUBgTvmgtqjLlu7m7WXJvU1IgSlJpW+yBFseqDvhek8XfKvpb+Bt2d6TlDXZv2rQsf3+7szPnOZXw+POfhsv/bSUykDyIiFs2KaDwhMrmi6O3ticurG3Hx9UacfbkQ55dX4uj4o+gffhD9o2Ox3z8Ug5PP4vjTqXi/d+D3vTzd0vbZab/x4+1B/XHbatj1ZtOuWFX7XadtN5st27S27Vq9ocusWHY2l7fzhaIuI5d/RP+ZMbJnHuDGxsaw3eko06woy7JUvV5XhmGoXC6nSqWSWl9fV8FgUIXDYd2TyaSKxWJ6PZ/Pq0wmo5aXl4ce4Pz8/PdEIqEikchTKpVy8e7ikFsul91arebG43F3bW1NFw66W1tbbqvVcovForuzs/OE/4oYHuDCwsKQUwDoAFCSITaqXq+nut2ufidbsgKgAqDa3d1ll4PBwEmn02pmZuaVIelSBhg4kCorlYrCdJXNZhU3syh1ZWVFVzQaVRjMLmGJA8vI8BUQ3gxN0+QmB0ASUjUIpRCYB8Bee7a6uqo9o0VYl4VCgarU0tLScEQy5QDYwSHJd4ZBaY1GQ8EvxYGGkdGBAET/oxqE+C9DfnAiASFfMs0OUicQO0FfkgYTbQX/gamElw6VzM7OjkomI0oGsCQLhkBWvBaUGQqF9LVhJzh9xLoES4eKqNIDpH76AuoOpkv6CFmyWq1KXBtaIMGOzCVCoccMjoNlu91+5tnFxcWRlB9eADmd7OgTA/mbIWXz0mOQThp2OGQ7Nzf34AEiwXsCplLJ583NTZeXmxcYbHQBxAWgG/rdg8HXdfQnDoLkew/Q7/cb4+Pj1+h36Lesqamp28nJSa8mJiZG+h91h73XgUDA0GDT09NsY6g3qMB/Fs+OwRrfLwZkUIS846tlAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"diskutil screencap\"\n        src=\"/static/270b50b8e64471da8b15e90c9727edf6/26fb4/diskutil.png\"\n        srcset=\"/static/270b50b8e64471da8b15e90c9727edf6/f723e/diskutil.png 188w,\n/static/270b50b8e64471da8b15e90c9727edf6/d744b/diskutil.png 375w,\n/static/270b50b8e64471da8b15e90c9727edf6/26fb4/diskutil.png 750w,\n/static/270b50b8e64471da8b15e90c9727edf6/2a761/diskutil.png 1125w,\n/static/270b50b8e64471da8b15e90c9727edf6/69631/diskutil.png 1364w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>To copy the image to the card it will need to be unmounted. This is done with <code class=\"language-text\">diskutil unmountDisk /dev/disk(n)</code>.</p>\n<p>To erase the disk contents I use <code class=\"language-text\">diskutil randomDisk /dev/disk(n)</code> which writes random data to the disk. This took too long and I would probably seek an alternative in the future.</p>\n<p>Finally, the image can be copied to the µSD card with <code class=\"language-text\">sudo dd if=./BBB-blank-debian-9.5-iot-armhf-2018-10-07-4gb.img of=/dev/disk(n)</code>. This took about 35 minutest to complete. When the transfer is complete, eject the disk.</p>\n<p>To flash the OS to eMMC, power off the BBB and insert the µSD card. Hold down the tact switch <em>S2</em> and plug in the miniUSB cable to power the BBB. The 4 user LED's on board will light up, go off, then start flashing. Release <em>S2</em>. The lights will go off again when the flashing is complete. The BBB is now OFF.</p>\n<p>Remove the µSD card, then press the <em>S3</em> switch to power up the board.</p>\n<p>When the BBB boots up, it should mount as a MSD to the Macbook. Browse the drive you'll find a file start.htm which shows some drivers that may need to be installed.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 750px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c72f1df518be99cd25e8dfb11d2a8dde/5cfee/installs.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.94579172610556%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAABhUlEQVQoz42RzW7TQBSF/UTAGyDEohteqKmEEIQKpIrHAARqN7wBiE3SOrETrEIBhWQ8duOfmbGD+iPRj+tJU4HEgsU352rmzpxz7SDde8Cifw8lqp5tsdi9j3ou+uQus+1bzHp3hNtS/x9B9u4F+f5j8oOnZAd9sv0++u0j9JuHpC+3b9CveujXO0LvH+yskZ5gnhWsLsHWFc5UmJ+X6KohLa3XjkVhWboz3MUV7vzKq71A9BrZs+e/aKQO6qqksQZXl57WWfJM8/HDe8ajkFF4xDg8JA6HTMch0ygkiUd8jYdrogEn0ZDjZIpOlSScz2nbFnOaYjKpm4aiLBkMBkwmE6IoJplEHMdHzL58Qn37zPwkoVTfqfUPz1Ir6tpgjCEo5bKzFrvUfmTnHFVVSUPt1cqZExPr/qZpVzSr1Vo7pKcjUEqSydhmltCY2jsppUjT1GtRFN6ke9jKp1mr9Wm8mZz9SWBl6Ua2MrI7VRj5OXmeo7W+0Q2dyabemHWpuoc2CX8DjRYv7zOFl88AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"Installs\"\n        src=\"/static/c72f1df518be99cd25e8dfb11d2a8dde/26fb4/installs.png\"\n        srcset=\"/static/c72f1df518be99cd25e8dfb11d2a8dde/f723e/installs.png 188w,\n/static/c72f1df518be99cd25e8dfb11d2a8dde/d744b/installs.png 375w,\n/static/c72f1df518be99cd25e8dfb11d2a8dde/26fb4/installs.png 750w,\n/static/c72f1df518be99cd25e8dfb11d2a8dde/2a761/installs.png 1125w,\n/static/c72f1df518be99cd25e8dfb11d2a8dde/5cfee/installs.png 1402w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>On this page there is also the following IP table.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 750px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a5a352016601bf44bedc7a0d5c7a4a0f/962cd/ipTable.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 47.95918367346938%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABu0lEQVQoz11RW27UQBD0abgBgjOAFJZwD35A+QChIESIBIKEE+QjKCAELHfgHNn1a+zx2B4/10kWomKqHS8JH63urq7uqbI9dTBD8vERgt27CF7cllp9mLl4APV+C/Hbe1Inhw4/eOhiG+pwG/G7+1e8GcLdO1g+uQVz8hSe+voSyffXSD4/Q/rlOdL5PpJvr6B/7I0x30PqMjn65/4Y8zebTG70aQfR0WPYX8fwQp0jySu055dY/QZ02cBUHfqLSzTDWrKpe/hKw3aD9O3ZGt35H6m17bBMC9jVGmdu38t0CpNpNLU72tQocoOyyKWeMPbk5SaTeVONuHBy95COBR9WPbwoChHHMeq6Rtd1SNMUWZahbVvBmLXWiKIISikkSbLBG4ZRsGqBPM8xDAMPRkJqmkYOcrkoCqmJcZE9c9/3N3ARkBmcLn2UZTkeJJnNRKqcHYYouIZZa6WnugmXmXX7zi7ncnCxWCAMQ7FEIqVvLF2p5ifwfR9BEIib6VjbdmhNjCo+hblumd+NRL5Ctf8fpAvOGcaYGwfHmfqnkC/zY/PHUB0JtDjZ4yIV0gU5fJyzyTZnVM49HvwLjOTRLqxJjjgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"alt text\"\n        title=\"IP Table\"\n        src=\"/static/a5a352016601bf44bedc7a0d5c7a4a0f/26fb4/ipTable.png\"\n        srcset=\"/static/a5a352016601bf44bedc7a0d5c7a4a0f/f723e/ipTable.png 188w,\n/static/a5a352016601bf44bedc7a0d5c7a4a0f/d744b/ipTable.png 375w,\n/static/a5a352016601bf44bedc7a0d5c7a4a0f/26fb4/ipTable.png 750w,\n/static/a5a352016601bf44bedc7a0d5c7a4a0f/962cd/ipTable.png 980w\"\n        sizes=\"(max-width: 750px) 100vw, 750px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>SSH via USB</h2>\n<p>With drivers installed and this IP table you see we can ssh the BBB over USB at 192.168.6.2. So, <code class=\"language-text\">ssh 192.168.6.2 -l debian</code> the default password is <code class=\"language-text\">temppwd</code>.</p>\n<h1>Set a Static IP</h1>\n<p>I want a static IP on eth0 so I can easily find the BBB on the network. To do this, connect via ssh over USB and edit the interfaces file with <code class=\"language-text\">sudo vim /etc/network/interfces</code>. Type <code class=\"language-text\">i</code> for insert, then edit to something like the static IP entry below.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># The primary network interface\nauto eth0\niface eth0 inet static\naddress 192.168.1.200\nnetmask 255.255.255.0\ngateway 192.168.1.254</code></pre></div>\n<p>Now <code class=\"language-text\">esc</code> to end the edits and <code class=\"language-text\">:wq</code> then <code class=\"language-text\">return</code> to write the edits and quit. To exit without saving <code class=\"language-text\">:q!</code> instead.</p>\n<p>After you <code class=\"language-text\">sudo reboot</code> the static IP should be set on eth0.</p>\n<h2>Moving Forward</h2>\n<p>I will now switch to the AC/DC power adapter to run the BBB and eliminating the miniUSB. Of course the power source could be either, but since I am done with the initial configuration i.e. ssh via usb, I made the switch. From here on out I will ssh eth0 on the static IP.</p>\n<h2>Change the Default Passwords</h2>\n<p>For me, i could not change passwords when connected ssh via USB - I had to ssh eth0. When logged in as U:debian type the command <code class=\"language-text\">sudo passwd</code> and follow the prompts to enter a new password for the logged in user. Then type <code class=\"language-text\">sudo passwd root</code> to change the password for U:root.</p>\n<h2>Summary</h2>\n<p>So far we have taken a factory fresh Beaglebone Black and installed an OS to the onboard eMMC. We prepared for future work by establishing that we can ssh over a static IP on eth0. Finally we have better secured our BBB by changing the default passwords. In part 2 we will look at the next steps in getting some basic BBB functionality going.</p>","frontmatter":{"date":"2019-12-21","title":"Beaglebone Black - Getting Started Pt.1","tags":["beaglebone","linux","Embedded Systems"],"cover":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIE/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAHDBcUof//EABgQAQEAAwAAAAAAAAAAAAAAAAECACAh/9oACAEBAAEFAqO6FBn/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAVEAEBAAAAAAAAAAAAAAAAAAAgMf/aAAgBAQAGPwKr/8QAGhAAAwADAQAAAAAAAAAAAAAAAAERITFBYf/aAAgBAQABPyHC2EiLo/XRMQSU/9oADAMBAAIAAwAAABB83//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAQEBAQEAAwAAAAAAAAAAAAERACFBMVFx/9oACAEBAAE/EGIdDkfjcO1cAEV/c2FKOX6wHnkzivdqG//Z","aspectRatio":1.3758389261744965,"src":"/static/c0875885476cd97344cb4f6ec233dfea/688c9/bbb2.jpg","srcSet":"/static/c0875885476cd97344cb4f6ec233dfea/688c9/bbb2.jpg 410w","srcWebp":"/static/c0875885476cd97344cb4f6ec233dfea/f778d/bbb2.webp","srcSetWebp":"/static/c0875885476cd97344cb4f6ec233dfea/f778d/bbb2.webp 410w","sizes":"(max-width: 410px) 100vw, 410px"},"resize":{"src":"/static/c0875885476cd97344cb4f6ec233dfea/c4f3a/bbb2.jpg"}}}}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"pathSlug":"/Beaglebone-getting-started-p1","prev":{"frontmatter":{"path":"/handheld-tachometer","title":"Handheld Tachometer","tags":["embedded","hardware","software"]}},"next":{"frontmatter":{"path":"/Beaglebone-getting-started-p2","title":"Beaglebone Black - Getting Started Pt.2","tags":["beaglebone","linux","Embedded Systems"]}}}}}